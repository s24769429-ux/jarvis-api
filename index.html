<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intelix</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="logo.png">

    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
</head>
<body>

    <!-- 1. –≠–ö–†–ê–ù –í–•–û–î–ê -->
    <div id="login-screen">
        <div class="login-box">
            <img src="logo.png" class="login-logo" alt="Logo">
            <h1>Intelix</h1>
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –±—É–¥—É—â–µ–µ</p>
            <input type="text" id="usernameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è..." autocomplete="off">
            <button id="loginBtn">–í–û–ô–¢–ò –í –°–ò–°–¢–ï–ú–£</button>
        </div>
    </div>

    <!-- 2. –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
    <div class="app-wrapper">
        
        <!-- –°–∞–π–¥–±–∞—Ä (–ú–µ–Ω—é –∏—Å—Ç–æ—Ä–∏–∏) -->
        <aside class="sidebar" id="sidebar">
            <button id="newChatBtn" class="new-chat-btn">+ New chat</button>
            <div class="sidebar-header">
                <span>History</span>
                <span id="clearBtn" style="color:red; cursor:pointer; margin-left: 30px;">Delete</span>
            </div>
            <div id="chatsList"></div>
            
            <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
            <div id="user-profile" style="display:none; margin-top: auto; padding-top: 20px; border-top: 1px solid #333; text-align: center;">
                <div style="width: 40px; height: 40px; background: #0066cc; border-radius: 50%; display:inline-flex; align-items:center; justify-content:center; font-weight:bold; font-size:20px;" id="userAvatar">U</div>
                <div id="userNameDisplay" style="margin-top: 5px; font-weight: bold; color: #ffd700;">User</div>
                <button id="logoutBtn" style="background: none; border: none; color: #ff4444; font-size: 12px; cursor: pointer; margin-top: 5px;">–í—ã–π—Ç–∏</button>
            </div>
        </aside>

        <!-- –ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ —á–∞—Ç–∞ -->
        <main class="chat-main">
            
            <!-- –ö–ù–û–ü–ö–ê –î–õ–Ø –¢–ï–õ–ï–§–û–ù–ê (–í–ê–ñ–ù–û!) -->
            <button id="mobileMenuBtn">‚ò∞ –ú–µ–Ω—é</button>

            <header class="chat-header">
                <img src="https://s24769429-ux.github.io/jarvis-api/logo.png" class="main-logo" alt="Logo">
                <div class="premium-badge">Intelix</div>
            </header>

            <!-- –û–±–ª–∞—Å—Ç—å –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π -->
            <div id="response">
                <!-- –ó–∞–≥–ª—É—à–∫–∞ —Å–≤–µ—Ä—Ö—É -->
                <div style="height: 100px; width: 100%; flex-shrink: 0;"></div>
            </div>

            <!-- –ü–û–õ–ï –í–í–û–î–ê (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä) -->
            <div class="input-container">
                
                <!-- –ü—Ä–µ–≤—å—é –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π -->
                <div class="preview-box" id="imagePreviewContainer">
                    <img id="imagePreview" src="">
                    <span id="removePreview">√ó</span>
                </div>

                <!-- –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ ü§ñ –ê–≤—Ç–æ) -->
                <div class="model-popup" id="modelPopup">
                    <div class="popup-item active" data-model="auto">ü§ñ –ê–≤—Ç–æ (Grok-3)</div>
                    <div class="popup-item" data-model="pro">‚ö° Intelix Pro</div>
                </div>

                <!-- –°–∞–º–∞ –∑–æ–Ω–∞ –≤–≤–æ–¥–∞ -->
                <div class="input-wrapper">
                    <input type="file" id="fileInput" style="display:none" accept="image/*">
                    
                    <div class="left-controls">
                        <button id="modelToggle" type="button" class="mode-btn">ü§ñ –ê–≤—Ç–æ</button>
                        <button id="attachBtn" type="button" class="mode-btn" style="color: #0066cc;">[+]</button>
                    </div>

                    <textarea id="userInput" placeholder="–°–ø—Ä–æ—Å–∏—Ç–µ Intelix..." rows="1"></textarea>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å -->
                <button id="sendBtn" class="send-btn">
                    <p class="btnText">SEND</p>
                    <svg class="send-icon" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
                        <path d="M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"/>
                    </svg>
                </button>
            </div>
        </main>
    </div>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="storage.js"></script>
    <script src="ui.js"></script>
    <script src="main.js"></script>

</body>
</html>